$(document).ready(function(){function a(){var a=$(".main-header"),t=$(".main-heading"),o=$(".subnav-list-program-menu"),l=$(window).scrollTop();$(window).width()<=560&&l>a.outerHeight()?(t.css("top",l-a.outerHeight()),o.css("top",l-a.outerHeight())):(t.css("top",0),o.css("top",0))}function t(){var t=$(".program-table-heading"),o=$(".program-table-scroll"),l=$(".program-table-timeline-date"),r=$(window).scrollTop(),e=$(".js-program-table-scroll").position().top;if(r>e){var s=r-e;o.addClass("with-shadow"),t.css("top",s),o.css("margin-top",s),l.css("top",s)}else o.removeClass("with-shadow"),t.css("top",0),o.css("margin-top",0),l.css("top",0);a()}function o(){var t=0;$(".program-table-heading-cell").each(function(){t+=$(this).outerWidth()}),$(".program-table-event-global").css("width",t-1),a()}var l=$("[data-program-table-cell-width]").data("program-table-cell-width")||260;baron({scroller:".js-program-table-scrollable",bar:".js-program-table-scrollbar",scrollingCls:"_scrolling",draggingCls:"_dragging",direction:"h",impact:"scroller"}).controls({track:".js-program-table-scroll-track"}),$(".js-program-table-scroll-right, .js-program-table-scroll-left").click(function(){var a=$(".js-program-table-scrollable").scrollLeft(),t=a%l,o=l-t,r=0;r=($(this).hasClass("js-program-table-scroll-left")?-1:1)>0?t?a+o:a+l:t?a-t:a-l,$(".js-program-table-scrollable").animate({scrollLeft:r},200)}),$(".program-table-event[data-side-modal]").click(function(){var a=$(this).attr("id");window.history.pushState?window.history.pushState(null,null,"#"+a):window.location.hash=a}),$(".program-table-timeline-date").css("height",$(".program-table-heading").height()).css("margin-bottom",$(".program-table-scroll").height()),$("[data-program-table-fav]").click(function(a){a.preventDefault(),a.stopPropagation();var t=$(this),o=t.hasClass("active"),l=t.data("program-table-fav")+"?activate="+!o;$("body").spin("large","#000"),$.ajax({url:l,processData:!1,contentType:!1,cache:!1,dataType:"json"}).done(function(a){a&&(o?t.removeClass("active"):t.addClass("active"))}).fail(function(a,t,o){alert("Ошибка отправки данных. Пожалуйста, попробуйте ещё раз. Error while loading data. Please, try again or contact us."),console.log(a),console.log(o)}).always(function(){$("body").spin(!1)})}),t(),o(),$(window).scroll(t),$(window).resize(o),window.location.hash&&initSideModal&&($event=$(window.location.hash),$event.length&&$event.click())});
//# sourceMappingURL=maps/program-table.min.js.map
